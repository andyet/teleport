# CLI Docs

Here is a summary of the tools that Teleport provides.

| Tool           | Description
|----------------|------------------
| [teleport](#teleport) | A binary daemon which runs one or more of the `node`, `auth` or `proxy` services. Configure the services with the `--roles` flag or with a `.yaml` configuration file.
| [tctl](#tctl)    | Cluster administration tool used to invite nodes to a cluster and manage user accounts. `tctl` can only be used on the same machine where the `auth` service/role is running.
| [tsh](#tsh)| Teleport client tool, similar to OpenSSH's `ssh`. It is used to log into remote SSH nodes, list and search for nodes in a cluster, securely upload/download files, etc. `tsh` can work in conjunction with `ssh` by acting as an SSH agent.

# teleport

Teleport

## teleport start
`teleport start` starts one or more teleport services

### Flags

| Name | Default Value(s) | Allowed Value(s) | Description
|------|---------|----------------|----------------------------|
| `-d, --debug`| none | none | enable verbose logging to stderr
| `--insecure-no-tls`| none | none | disable TLS for the web proxy <!--Link to more info-->
| `-r, --roles`| `proxy,node,auth` | **string** comma-separated list of `proxy, node` or `auth` | start listed services/roles
| `--pid-file`| none | **string** filepath | create a PID file at the path
| `--advertise-ip`| none | **string** IP | advertise IP to clients, often used behind NAT
| `-l, --listen-ip`| `0.0.0.0` | [**net.IP**](https://golang.org/pkg/net/#IP) | binds services to IP  
| `--auth-server` | none | **string** IP | proxy attempts to connect to a specified auth server instead of local auth, disables `--roles=auth` if set
| `--token`       | none | **string** | set invitation token to register with an auth server on start, used once and ignored afterwards. Obtain it by running `tctl nodes add` on the auth server.<!--note on how to generate secure tokens-->
| `--ca-pin`      | none | **string** `sha256:<hash>` | set CA pin to validate the Auth Server. Generated by `tctl status`
| `--nodename`    | `hostname` | **string** | name this node <!--Notes on function-->
| `-c, --config`  | `/etc/teleport.yaml` | **string** `.yaml` filepath | starts services with config specified in the YAML file, overrides CLI flags if set
| `--bootstrap`   | none | **string** `.yaml` filepath | bootstrap configured YAML resources <!--note on how to configure this file-->
| `--labels`      | none | **string** comma-separated list | label this node
| `--insecure`    | none | none | disable certificate validation on Proxy Service, validation still occurs on Auth Service.
| `--fips`        | none | none | start Teleport in FedRAMP/FIPS 140-2 mode.

### Global Flags
None

## teleport status
`teleport status` shows the status of a Teleport connection. This command is only available from inside of a recorded SSH session.

## teleport configure
`teleport configure` dumps a **sample** configuration file in YAML format into standard output. 

**Caution**: This sample config is _not_ the default config and should be used for reference only. <!--Link to Config Doc-->

## teleport version
`teleport version` show the release version

## teleport help
`teleport help` shows help `teleport` and its subcommands like this `teleport help <subcommand>`


# tsh

`tsh` is similar in nature to OpenSSH `ssh` or `scp`. In fact, it has subcommands named after
them so you can call:

```bsh
$ tsh --proxy=p ssh -p 1522 user@host
$ tsh --proxy=p scp -P example.txt user@host/destination/dir
```

Unlike `ssh`, `tsh` is very opinionated about authentication: it always uses auto-expiring
keys and it always connects to Teleport nodes via a proxy.

When `tsh` logs in, the auto-expiring key is stored in `~/.tsh` and is valid for 12 hours by
default, unless you specify another interval via `--ttl` flag (capped by the server-side configuration).

## Global Flags

| Name | Default Value(s) | Allowed Value(s) | Description
|------|---------|----------------|----------------------------|
| `-l, --login`| | | login to remote host
| `--proxy`| | | set SSH proxy address
| `--user`| `$USER` | | set SSH proxy user
| `--ttl`| | | set Minutes to live for a SSH session
| `-i, --identity`| | | Identity file
| `    --cert-format`| | | SSH certificate format
| `--insecure`| | | Do not verify server's certificate and host name. Use only in test environments
| `--auth`| | |  Specify the type of authentication connector to us`.
| `--skip-version`| | |- Skip version checking between server and client.
| `-d, --debug`| | |  Verbose logging to stdout
| `-J, --jumphost`| | | SSH jumphost
## tsh help

## tsh version

## tsh ssh

## tsh join

## tsh play

## tsh scp

## tsh ls

## tsh clusters

## tsh login

## tsh logout

## tsh status

# tctl

`tctl` is used to administer a Teleport cluster. It connects to an Auth Server and allows a cluster administrator to manage [Nodes](./concepts/nodes) and [Users](./concepts/users) in the cluster.

`tctl` is also a tool which can be used to modify the dynamic configuration of the
cluster, like creating new user roles or connecting trusted clusters.

## Teleport CLI Tools

Teleport offers two command line tools. `tsh` is a client tool used by the end users, while
`tctl` is used for cluster administration.
