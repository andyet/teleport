# teleport

## teleport start
`teleport start` starts one or more teleport services

### Flags

| Name | Default Value(s) | Allowed Value(s) | Description
|------|---------|----------------|----------------------------|
| `-d, --debug`| none | none | enable verbose logging to stderr
| `--insecure-no-tls`| none | none | disable TLS for the web proxy <!--Link to more info-->
| `-r, --roles`| `proxy,node,auth` | **string** comma-separated list of `proxy, node` or `auth` | start listed services/roles
| `--pid-file`| none | **string** filepath | create a PID file at the path
| `--advertise-ip`| none | **string** IP | advertise IP to clients, often used behind NAT
| `-l, --listen-ip`| `0.0.0.0` | [**net.IP**](https://golang.org/pkg/net/#IP) | binds services to IP
| `--auth-server` | none | **string** IP | proxy attempts to connect to a specified auth server instead of local auth, disables `--roles=auth` if set
| `--token`       | none | **string** | set invitation token to register with an auth server on start, used once and ignored afterwards. Obtain it by running `tctl nodes add` on the auth server.<!--note on how to generate secure tokens-->
| `--ca-pin`      | none | **string** `sha256:<hash>` | set CA pin to validate the Auth Server. Generated by `tctl status`
| `--nodename`    | `hostname` | **string** | name this node <!--Notes on function-->
| `-c, --config`  | `/etc/teleport.yaml` | **string** `.yaml` filepath | starts services with config specified in the YAML file, overrides CLI flags if set
| `--bootstrap`   | none | **string** `.yaml` filepath | bootstrap configured YAML resources <!--note on how to configure this file-->
| `--labels`      | none | **string** comma-separated list | label this node
| `--insecure`    | none | none | disable certificate validation on Proxy Service, validation still occurs on Auth Service.
| `--fips`        | none | none | start Teleport in FedRAMP/FIPS 140-2 mode.

## teleport status
`teleport status` shows the status of a Teleport connection. This command is only available from inside of a recorded SSH session.

## teleport configure
`teleport configure` dumps a **sample** configuration file in YAML format into standard output.

**Caution**: This sample config is _not_ the default config and should be used for reference only. <!--Link to Config Doc-->

## teleport version
`teleport version` show the release version

## teleport help
`teleport help` shows help `teleport` and its subcommands like this `teleport help <subcommand>`


# tsh

## tsh Global Flags

| Name | Default Value(s) | Allowed Value(s) | Description
|------|---------|----------------|----------------------------|
| `-l, --login`| none | an identity name | the login identity that the Teleport User should use
| `--proxy`| none | a hostname which resolves to an IP for clients | set SSH proxy address
| `--user`| `$USER` | none | the Teleport User name
| `--ttl`| none (ttl unrestricted) | relative duration like 5s, 2m, or 3h | set time to live for a SSH session
| `-i, --identity`| none | **string** filepath | Identity file
| `--cert-format`| `file` | `file` or `openssh` | SSH certificate format
| `--insecure`| none | none | Do not verify server's certificate and host name. Use only in test environments
| `--auth`| `local` | any defined [authentication connector](#TODO) |  Specify the type of authentication connector to use.
| `--skip-version`| none | none | Skip version checking between server and client.
| `-d, --debug`| none | none | Verbose logging to stdout
| `-J, --jumphost`| none | A jump host | SSH jumphost

## tsh help

Print help

## tsh version

Print client version

## tsh ssh

Run shell or execute a command on a remote SSH node

**Usage**: `tsh ssh [<flags>] <[user@]host> [<command>...]`

### Arguments

`<[user@]host> [<command>...]`

*  `user` The login identity to use on the remote host. If `[user]` is noot specified the user defaults to `$USER` or can be set with `--user`. If the flag `--user` and positional argument `[user]` are specified the arg `[user]` takes precedence.
* `host` A `nodename` of a cluster node or a
* `command` The command to execute on a remote host.

### Flags

| Name | Default Value(s) | Allowed Value(s) | Description
|------|---------|----------------|----------------------------|
| `-p, --port`| none | port | SSH port on a remote host
| `-A, --forward-agent`| none | none | Forward agent to target node like `ssh -A`
| `-L, --forward`| none | none | Forward localhost connections to remote server
| `-D, --dynamic-forward `| none | none | Forward localhost connections to remote server using SOCKS5
| `--local`| none |  | Execute command on localhost after connecting to SSH node
| `-t, --tty`| `file` |  | Allocate TTY
| `--cluster`| none |  | Specify the cluster to connect
| `-o, --option`| `local` |  |  OpenSSH options in the format used in the configuration file

### [Global Flags](./#tsh-global-flags)

These flags are available for all commands `--login, --proxy, --user, --ttl, --identity, --cert-format, --insecure, --auth, --skip-version, --debug, --jumphost`. Run `tsh help <subcommand>` or see the [Global Flags Section](./#tsh-global-flags)


### Examples

```
tsh ssh --proxy proxy.example.com --user teleport -d root@proxy.example.com
```

## tsh join

**Usage**: `tsh join [<flags>] <session-id>`

### Arguments

`<session-id>`

*  `session-id` The UUID of the an active Teleport Session obtained by `teleport status` within the session.

### Flags

| Name | Default Value(s) | Allowed Value(s) | Description
|------|---------|----------------|----------------------------|
| `--cluster`| none | a cluster_name | Specify the cluster to connect

### [Global Flags](./#tsh-global-flags)

These flags are available for all commands `--login, --proxy, --user, --ttl, --identity, --cert-format, --insecure, --auth, --skip-version, --debug, --jumphost`. Run `tsh help <subcommand>` or see the [Global Flags Section](./#tsh-global-flags)


### Examples

```
tsh --proxy proxy.example.com join <session-uuid>
```

## tsh play

## tsh scp

```bsh

$ tsh --proxy=p scp -P example.txt user@host/destination/dir
```

## tsh ls

## tsh clusters

## tsh login

If User `teleport` has identities `root,nginx`, the value should be `root` or `nginx`

When `tsh` logs in, the auto-expiring key is stored in `~/.tsh` and is valid for 12 hours by default, unless you specify another interval via `--ttl` flag (capped by he server-side configuration).

## tsh logout

## tsh status

# tctl

`tctl` is used to administer a Teleport cluster. It connects to an Auth Server and allows a cluster administrator to manage [Nodes](./concepts/nodes) and [Users](./concepts/users) in the cluster.

`tctl` is also a tool which can be used to modify the dynamic configuration of the
cluster, like creating new user roles or connecting trusted clusters.
